{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto">
    <div class="mt-8">
        <h1 class="text-2xl leading-none text-gray-900 tracking-tight">{{ user_object.username }}'s Profile</h1>
        <p class="text-gray-600">{{ user_profile.bio }}</p>
    </div>

     <div class="mt-8">
            <h2 class="text-xl font-medium mb-2">Profile Statistics</h2>
            {% if user_post_length == 0 %}
                <p>No Post</p>
            {% elif user_post_length == 1 %}
                <p>{{ user_post_length }} Post</p>
            {% else %}
                <p>{{ user_post_length }} Posts</p>
            {% endif %}
            <p>Followers: {{ user_profile.followers.count }}</p>
            <p>Following: {{ user_profile.following.count }}</p>
        </div>

    <div class="mt-8">
        <h2 class="text-xl font-medium mb-2">Posts</h2>
        {% if user_posts %}
            <div class="grid grid-cols-3 gap-4">
                {% for post in user_posts %}
                    <div class="bg-white rounded-lg shadow-md">
                        <img src="{{ post.image.url }}" alt="Post Image" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="p-4">
                            <p class="text-gray-800">{{ post.caption }}</p>
                            <p class="text-gray-600">Likes: {{ post.no_of_likes }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>No posts found.</p>
        {% endif %}
    </div>

    <div class="mt-8">
        <a href="/" class="auth-links">Home</a>
        <a href="/settings" class="auth-links">Account Settings</a>
    </div>
</div>
{% endblock content %}
